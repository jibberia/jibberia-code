<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<meta http-equiv="content-type" content="text/html; charset=UTF-8"/>
<title>Audio Map</title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.2/jquery.min.js"></script>
<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>
<script type="text/javascript">
  var map;
  function initialize() {
    var myLatlng = new google.maps.LatLng(0,0);
    var myOptions = {
      zoom: 2,
      center: myLatlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    }
    map = new google.maps.Map(document.getElementById("map_canvas"), myOptions);
  }
  $('body').ready(initialize);

  var loadedSamples = Array();
  function getSample() {
      var excludeString = loadedSamples.join(',');
      $.getJSON("/samples/random?exclude=[" + excludeString + "]", function(data) {
          if(data.error == undefined) {
              var myLatlng = new google.maps.LatLng(data.lat, data.lon);
              var marker = new google.maps.Marker({
                  position: myLatlng, 
                  map: map,
                  title:data.name
              });
          }
      });
  }

</script>
</head>
<body style="margin:0px; padding:0px;"> <!-- onload="initialize()"> -->
  <div id="map_canvas" style="width: 100%; height: 100%;"></div>
</body>
</html>
